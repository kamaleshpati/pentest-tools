import socket
import  nmap

scanner = nmap.PortScanner()

print("Welcom , user")
print("------------------------------------------------------------------")


ip_addr = socket.gethostbyname(input("ip to scan"))

scanType = input(""" 
                    \n please enter the type of scan \n
                    1: SYN Ack\n
                    2.Udp Scan\n
                    3 comprehensive\n
                    """)

print(scanner.nmap_version())

if scanType == '1':
    scanner.scan(ip_addr,"1-1024","-v -sS")
    print(scanner.scaninfo())
    print("status : ",scanner[ip_addr].state())
    print(scanner[ip_addr].all_protocols())
    print("open ports",scanner[ip_addr]['tcp'].keys)

elif scanType == '2':
    scanner.scan(ip_addr,"1-1024","-v -sU")
    print(scanner.scaninfo())
    print("status : ",scanner[ip_addr].state())
    print(scanner[ip_addr].all_protocols())
    print("open ports",scanner[ip_addr]['udp'].keys)

elif scanType == '3':
    scanner.scan(ip_addr,"1-1024","-v -sS -sC -A -O")
    print(scanner.scaninfo())
    print("status : ",scanner[ip_addr].state())
    print(scanner[ip_addr].all_protocols())

else:
    print("choose valid opt")